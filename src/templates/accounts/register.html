{% extends "base.html" %} {% block content %}
<div class="min-h-screen flex items-center justify-center bg-black py-12 px-4">
  <div
    class="w-full max-w-md bg-zinc-900 rounded-2xl shadow-2xl p-10 border border-zinc-800"
  >
    <div class="text-center mb-8">
      <img
        class="mx-auto h-14 w-14 rounded-full border-2 border-white shadow-lg"
        src="https://placehold.co/56x56/000/fff?text=Py"
        alt="PyMaster logo"
      />
      <h2 class="mt-4 text-3xl font-extrabold text-white tracking-tight">
        Tạo tài khoản
      </h2>
      <!-- Đã chuyển link đăng nhập xuống dưới -->
    </div>
    <form method="POST" class="space-y-6" novalidate>
      {{ form.csrf_token }}
      <div class="space-y-5">
        <div>
          <label
            for="{{ form.username.id }}"
            class="block text-sm font-medium text-zinc-200"
            >Tên đăng nhập</label
          >
          {{ form.username(class="mt-1 block w-full px-3 py-2 bg-zinc-800 border
          border-zinc-700 rounded-md text-white placeholder-zinc-500
          focus:outline-none focus:ring-2 focus:ring-blue-500 sm:text-sm",
          placeholder="Nhập tên đăng nhập") }} {% for error in
          form.username.errors %}
          <p class="text-red-400 text-xs mt-1">{{ error }}</p>
          {% endfor %}
        </div>
        <div>
          <label
            for="{{ form.password.id }}"
            class="block text-sm font-medium text-zinc-200"
            >Mật khẩu</label
          >
          {{ form.password(class="mt-1 block w-full px-3 py-2 bg-zinc-800 border
          border-zinc-700 rounded-md text-white placeholder-zinc-500
          focus:outline-none focus:ring-2 focus:ring-blue-500 sm:text-sm",
          placeholder="Nhập mật khẩu") }} {% for error in form.password.errors
          %}
          <p class="text-red-400 text-xs mt-1">{{ error }}</p>
          {% endfor %}
        </div>
        <div>
          <label
            for="{{ form.confirm.id }}"
            class="block text-sm font-medium text-zinc-200"
            >Xác nhận mật khẩu</label
          >
          {{ form.confirm(class="mt-1 block w-full px-3 py-2 bg-zinc-800 border
          border-zinc-700 rounded-md text-white placeholder-zinc-500
          focus:outline-none focus:ring-2 focus:ring-blue-500 sm:text-sm",
          placeholder="Nhập lại mật khẩu") }} {% for error in
          form.confirm.errors %}
          <p class="text-red-400 text-xs mt-1">{{ error }}</p>
          {% endfor %}
        </div>
        <div>
          <label
            for="{{ form.role.id }}"
            class="block text-sm font-medium text-zinc-200"
            >Vai trò</label
          >
          {{ form.role(class="mt-1 block w-full px-3 py-2 bg-zinc-800 border
          border-zinc-700 rounded-md text-white focus:outline-none focus:ring-2
          focus:ring-blue-500 sm:text-sm") }} {% for error in form.role.errors
          %}
          <p class="text-red-400 text-xs mt-1">{{ error }}</p>
          {% endfor %}
        </div>
      </div>
      <div>
        <button
          type="submit"
          class="w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg shadow-lg transition"
        >
          Đăng ký ngay
        </button>
      </div>
    </form>
    <div class="mt-6 text-center text-sm text-zinc-400">
      Đã có tài khoản?
      <a
        href="{{ url_for('accounts.login') }}"
        class="text-blue-400 hover:text-blue-200 font-semibold underline"
        >Đăng nhập</a
      >
    </div>
    {% with messages = get_flashed_messages(with_categories=true) %} {% if
    messages %}
    <div class="mb-6 flex flex-col items-center">
      {% for category, message in messages %} {% if message != 'Đăng nhập thành
      công!' and message != 'Login successful!' %}
      <span
        class="inline-block px-4 py-2 rounded-lg text-sm font-semibold text-center mb-2"
        style="background: transparent; {% if category == 'success' %}color:#22c55e;{% elif category == 'error' or category == 'danger' %}color:#ef4444;{% else %}color:#fff;{% endif %}"
      >
        {{ message }}
      </span>
      {% endif %} {% endfor %}
    </div>
    {% endif %} {% endwith %}
  </div>
</div>
{% endblock %}
