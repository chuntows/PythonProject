{% extends "base.html" %} {% block content %}
<div class="min-h-screen flex items-center justify-center bg-black py-12 px-4">
  <div
    class="w-full max-w-md bg-gradient-to-br from-zinc-900 via-zinc-800 to-blue-900 rounded-2xl shadow-2xl p-10 border-2 border-transparent bg-clip-padding"
    style="border-image: linear-gradient(90deg, #ec4899, #8b5cf6, #0ea5e9) 1"
  >
    <div class="text-center mb-8">
      <img
        class="mx-auto h-14 w-14 rounded-full border-2 border-pink-400 shadow-lg"
        src="https://placehold.co/56x56/000/fff?text=WP"
        alt="WebPy logo"
      />
      <h2 class="mt-4 text-3xl font-extrabold text-pink-400 tracking-tight">
        Đăng ký WebPy
      </h2>
      <p class="mt-2 text-zinc-400 text-sm italic">
        Tham gia cộng đồng học tập hiện đại!
      </p>
      <!-- Đã chuyển link đăng nhập xuống dưới -->
    </div>
    <form method="POST" class="space-y-6" novalidate>
      {{ form.csrf_token }}
      <div class="space-y-5">
        <div class="relative">
          <label
            for="{{ form.username.id }}"
            class="block text-sm font-bold text-pink-400 drop-shadow mb-1"
            >Tên đăng nhập</label>
          <span class="absolute left-3 top-9 text-pink-400">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A13.937 13.937 0 0112 15c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
          </span>
          {{ form.username(class="mt-1 block w-full pl-10 px-3 py-2 bg-zinc-900 border-2 border-transparent border-gradient-pink-blue rounded-md text-white placeholder-zinc-400 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-pink-500 sm:text-sm transition-all duration-200", placeholder="Nhập tên đăng nhập") }}
          {% for error in form.username.errors %}
          <p class="text-pink-400 text-xs mt-1">{{ error }}</p>
          {% endfor %}
        </div>
        <div class="relative">
          <label
            for="{{ form.email.id }}"
            class="block text-sm font-bold text-blue-400 drop-shadow mb-1"
            >Email</label>
          <span class="absolute left-3 top-9 text-blue-400">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 12H8m8 0a4 4 0 11-8 0 4 4 0 018 0zm0 0v1a4 4 0 01-8 0v-1" /></svg>
          </span>
          {{ form.email(class="mt-1 block w-full pl-10 px-3 py-2 bg-zinc-900 border-2 border-transparent border-gradient-pink-blue rounded-md text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400 sm:text-sm transition-all duration-200", placeholder="Nhập email") }}
          {% for error in form.email.errors %}
          <p class="text-blue-400 text-xs mt-1">{{ error }}</p>
          {% endfor %}
        </div>
        <div class="relative">
          <label
            for="{{ form.password.id }}"
            class="block text-sm font-bold text-purple-400 drop-shadow mb-1"
            >Mật khẩu</label>
          <span class="absolute left-3 top-9 text-purple-400">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-5 w-5"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M12 11c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm0 2c-2.21 0-4 1.79-4 4v1h8v-1c0-2.21-1.79-4-4-4z"
              />
            </svg>
          </span>
          {{ form.password(class="mt-1 block w-full pl-10 px-3 py-2 bg-zinc-900 border-2 border-transparent border-gradient-pink-blue rounded-md text-white placeholder-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-purple-400 sm:text-sm transition-all duration-200", placeholder="Nhập mật khẩu") }} {% for error in form.password.errors %}
          <p class="text-purple-400 text-xs mt-1">{{ error }}</p>
          {% endfor %}
        </div>
        <div class="relative">
          <label
            for="{{ form.confirm.id }}"
            class="block text-sm font-bold text-purple-300 drop-shadow mb-1"
            >Xác nhận mật khẩu</label>
          <span class="absolute left-3 top-9 text-purple-300">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-5 w-5"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M12 11c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm0 2c-2.21 0-4 1.79-4 4v1h8v-1c0-2.21-1.79-4-4-4z"
              />
            </svg>
          </span>
          {{ form.confirm(class="mt-1 block w-full pl-10 px-3 py-2 bg-zinc-900 border-2 border-transparent border-gradient-pink-blue rounded-md text-white placeholder-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-300 focus:border-purple-300 sm:text-sm transition-all duration-200", placeholder="Nhập lại mật khẩu") }} {% for error in form.confirm.errors %}
          <p class="text-purple-300 text-xs mt-1">{{ error }}</p>
          {% endfor %}
        </div>
        <div>
          <label
            for="{{ form.role.id }}"
            class="block text-sm font-bold text-cyan-300 drop-shadow mb-1"
            >Vai trò</label>
          {{ form.role(class="mt-1 block w-full px-3 py-2 bg-zinc-900 border-2 border-transparent border-gradient-pink-blue rounded-md text-white focus:outline-none focus:ring-2 focus:ring-cyan-300 focus:border-cyan-300 sm:text-sm transition-all duration-200") }} {% for error in form.role.errors %}
          <p class="text-cyan-300 text-xs mt-1">{{ error }}</p>
          {% endfor %}
        </div>
      </div>
      <div>
        <button
          type="submit"
          class="w-full py-2 px-4 bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 hover:from-pink-600 hover:to-blue-600 text-white font-bold rounded-full shadow-2xl text-base transition-all duration-200 flex items-center justify-center border-2 border-transparent border-gradient-pink-blue"
          style="box-shadow: 0 4px 24px 0 rgba(236,72,153,0.25), 0 1.5px 6px 0 rgba(59,130,246,0.15);"
        >
          <svg
            class="w-5 h-5 mr-2 text-white drop-shadow"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M12 4v16m8-8H4"
            />
          </svg>
          Đăng ký ngay
        </button>
      </div>
    </form>
    <div class="mt-6 text-center text-sm text-zinc-400">
      Đã có tài khoản?
      <a
        href="{{ url_for('accounts.login') }}"
        class="text-blue-400 hover:text-blue-200 font-semibold underline"
        >Đăng nhập</a
      >
    </div>
    {% with messages = get_flashed_messages(with_categories=true) %} {% if
    messages %}
    <div class="mb-6 flex flex-col items-center">
      {% for category, message in messages %} {% if message != 'Đăng nhập thành
      công!' and message != 'Login successful!' %}
      <span
        class="inline-block px-4 py-2 rounded-lg text-sm font-semibold text-center mb-2"
        style="background: transparent; {% if category == 'success' %}color:#22c55e;{% elif category == 'error' or category == 'danger' %}color:#ef4444;{% else %}color:#fff;{% endif %}"
      >
        {{ message }}
      </span>
      {% endif %} {% endfor %}
    </div>
    {% endif %} {% endwith %}
  </div>
</div>
{% endblock %}
